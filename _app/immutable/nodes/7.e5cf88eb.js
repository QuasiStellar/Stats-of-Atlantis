import{s as nt,f as b,a as O,g as w,h as D,d as p,c as N,j as m,i as j,A as d,B as qe,O as st,o as lt,p as ve,l as K,m as G,T as we,v as ot,M as Ge,Q as it,V as ct}from"../chunks/scheduler.08ed19d9.js";import{S as at,i as rt,b as T,d as V,m as S,a as x,t as L,e as R,p as Ee}from"../chunks/index.40008747.js";import{g as ut,a as ft}from"../chunks/tw-merge.dd2125e8.js";import{B as Be}from"../chunks/Button.819c6c8e.js";import{L as ce}from"../chunks/Label.08ccf95f.js";import{I as Oe,a as dt,F as pt,K as mt,T as Ze}from"../chunks/index.739607cf.js";import{_ as X}from"../chunks/preload-helper.a4192956.js";import{_ as gt}from"../chunks/dynamic-import-helper.be004503.js";const _t=!0,Yt=Object.freeze(Object.defineProperty({__proto__:null,prerender:_t},Symbol.toStringTag,{value:"Module"}));function et(s,n,e,a,r,l=0,i=0,t=0,o=0){if(ht(s,n),Pe(n,"frame",0,0),e instanceof HTMLImageElement){const c=r.split(/\r\n|\r|\n/).length,E=c>4?(c-4)*67:0;n.drawImage(e,50,120,708,710-E),Pe(n,"frame_top",0,0)}bt(n,r,89),vt(n,a,404,95,420),l>0&&Me(n,l.toString(),82,123,100,10,.92),i>0&&Me(n,i.toString(),725,123,100,10,.92),t>0&&Me(n,t.toString(),77,1183,100,10,.92),o>0&&Me(n,o.toString(),733,1183,100,10,.92)}const ee=new Map;function $t(){return Promise.all(wt.map(async s=>{const n=(await gt(Object.assign({"../../lib/images/wheel_of_victory/bkd6.png":()=>X(()=>import("../chunks/bkd6.48d1a78b.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/bld6.png":()=>X(()=>import("../chunks/bld6.fcb6667b.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/death.png":()=>X(()=>import("../chunks/death.3e95a15c.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/description_frame_inside.png":()=>X(()=>import("../chunks/description_frame_inside.1fb2ed13.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/description_frame_top.png":()=>X(()=>import("../chunks/description_frame_top.4a144522.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/fire.png":()=>X(()=>import("../chunks/fire.3e559262.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/frame.png":()=>X(()=>import("../chunks/frame.6f306bb4.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/frame_top.png":()=>X(()=>import("../chunks/frame_top.164e5e5d.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/gd6.png":()=>X(()=>import("../chunks/gd6.b5b8f6cb.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/life.png":()=>X(()=>import("../chunks/life.05ddb6ee.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/rd4.png":()=>X(()=>import("../chunks/rd4.2e0d7116.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/rd6.png":()=>X(()=>import("../chunks/rd6.33303217.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/water.png":()=>X(()=>import("../chunks/water.93dfebee.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/wd6.png":()=>X(()=>import("../chunks/wd6.83f88d17.js"),[],import.meta.url)}),`../../lib/images/wheel_of_victory/${s}.png`)).default,e=new Image;e.src=n,ee.set(s,e),await new Promise(a=>e.onload=a)}))}function ht(s,n){n.clearRect(0,0,s.width,s.height)}function Pe(s,n,e,a){s.drawImage(ee.get(n),e,a)}function vt(s,n,e,a,r){s.textAlign="center",s.font="66px Modesto Poster",s.fillText(n,e,a,r)}function bt(s,n,e){const a=n.split(/\r\n|\r|\n/),r=ee.get("life"),l=ee.get("fire"),i=ee.get("water"),t=ee.get("death"),o=ee.get("rd4"),c=ee.get("rd6"),E=ee.get("bkd6"),F=ee.get("wd6"),te=ee.get("bld6"),B=ee.get("gd6"),se="45px",ne="27px",Q="ITC Charter";if(a.length>4){for(let h=0;h<a.length-4;h++)for(let _=1;_<=7;_++)Pe(s,"description_frame_inside",62,924-h*67-12*_);Pe(s,"description_frame_top",62,809-67*(a.length-4))}else Pe(s,"description_frame_top",62,809);const le=document.createElement("canvas");le.width=808,le.height=1226;const A=le.getContext("2d");A.font=se+" "+Q,A.textBaseline="top";let M=[];switch(a.length){case 0:break;case 1:M=[1015];break;case 2:M=[975,1055];break;case 3:M=[935,1015,1095];break;default:M=Array.from({length:a.length},(h,_)=>1115-67*(a.length-1-_));break}for(const[h,_]of a.entries())ge(_,e,M[h]);s.drawImage(le,0,0,808,1226,0,0,808,1226);function ge(h,_,y){const I=oe(h),$=Z(I);for(const f of $)ie(f,_,y)}function oe(h){const _=[],y=/(\b(LIFE|FIRE|WATER|DEATH|RD4|RD6|BKD6|WD6|BLD6|GD6)\b|\s+|\S+)/gi;let I;for(;(I=y.exec(h))!==null;){const[$]=I;$.match(/Life/gi)?_.push({type:"image",value:"life"}):$.match(/Fire/gi)?_.push({type:"image",value:"fire"}):$.match(/Water/gi)?_.push({type:"image",value:"water"}):$.match(/Death/gi)?_.push({type:"image",value:"death"}):$.match(/rd4/gi)?_.push({type:"image",value:"rd4"}):$.match(/rd6/gi)?_.push({type:"image",value:"rd6"}):$.match(/bkd6/gi)?_.push({type:"image",value:"bkd6"}):$.match(/wd6/gi)?_.push({type:"image",value:"wd6"}):$.match(/bld6/gi)?_.push({type:"image",value:"bld6"}):$.match(/gd6/gi)?_.push({type:"image",value:"gd6"}):$.trim()===""?_.push({type:"text",value:$}):_.push({type:"text",value:$})}return _}function Z(h){const _=[],y=[];for(const I of h)y.push(I);return _.push({tokens:y}),_}function _e(h){if(h.type==="image")return r.width;A.save();const y=h.value==" "?ne:se;A.font=y+" "+Q;const I=A.measureText(h.value.replace(/~/g,"")).width;return A.restore(),I}function ie(h,_,y){const I=document.createElement("canvas");I.width=808,I.height=1226;const $=I.getContext("2d");let f=0;for(const k of h.tokens){if(k.type==="image"){let v=r;switch(k.value){case"life":v=r;break;case"fire":v=l;break;case"water":v=i;break;case"death":v=t;break;case"rd4":v=o;break;case"rd6":v=c;break;case"bkd6":v=E;break;case"wd6":v=F;break;case"bld6":v=te;break;case"gd6":v=B;break}$.drawImage(v,f,y-35),f+=v.width;continue}const J=k.value==" "?ne:se;$.font=J+" "+Q,$.fillStyle="black",$.fillText(k.value,f,y),f+=_e(k)}y>1090?f<500?A.drawImage(I,0,0,808,1226,404-f/2,0,808,1226):A.drawImage(I,0,0,808/500*f,1226,404-250,0,808,1226):f<600?A.drawImage(I,0,0,808,1226,404-f/2,0,808,1226):A.drawImage(I,0,0,808/600*f,1226,404-300,0,808,1226)}}function Me(s,n,e,a,r,l,i){const t=document.createElement("canvas");t.width=400,t.height=400;const o=t.getContext("2d");return o.textAlign="center",o.font=`${r}px Modesto Poster`,o.lineWidth=l,o.strokeText(n,200,200),o.fillStyle="white",o.fillText(n,200,200),o.fillStyle="black",s.drawImage(t,0,0,400,400,e-200*i,a-200,400*i,400),o.measureText(n).width*i}const wt=["frame","frame_top","life","fire","water","death","rd4","rd6","bkd6","wd6","bld6","gd6","description_frame_top","description_frame_inside"];function Et(s){let n,e,a,r;function l(t){s[15](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[0]!==void 0&&(i.value=s[0]),e=new Oe({props:i}),ve.push(()=>Ee(e,"value",l)),{c(){n=K(`Name\r
              `),T(e.$$.fragment)},l(t){n=G(t,`Name\r
              `),V(e.$$.fragment,t)},m(t,o){j(t,n,o),S(e,t,o),r=!0},p(t,o){const c={};!a&&o&1&&(a=!0,c.value=t[0],we(()=>a=!1)),e.$set(c)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){L(e.$$.fragment,t),r=!1},d(t){t&&p(n),R(e,t)}}}function kt(s){let n,e,a,r;const l=[s[9],{class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"}];function i(o){s[16](o)}let t={};for(let o=0;o<l.length;o+=1)t=ot(t,l[o]);return s[1]!==void 0&&(t.value=s[1]),e=new dt({props:t}),ve.push(()=>Ee(e,"value",i)),{c(){n=K(`Description\r
              `),T(e.$$.fragment)},l(o){n=G(o,`Description\r
              `),V(e.$$.fragment,o)},m(o,c){j(o,n,c),S(e,o,c),r=!0},p(o,c){const E=c&512?ut(l,[ft(o[9]),l[1]]):{};!a&&c&2&&(a=!0,E.value=o[1],we(()=>a=!1)),e.$set(E)},i(o){r||(x(e.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),r=!1},d(o){o&&p(n),R(e,o)}}}function It(s){let n,e,a,r;function l(t){s[17](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[2]!==void 0&&(i.value=s[2]),e=new Oe({props:i}),ve.push(()=>Ee(e,"value",l)),{c(){n=K(`Life 🍃\r
              `),T(e.$$.fragment)},l(t){n=G(t,`Life 🍃\r
              `),V(e.$$.fragment,t)},m(t,o){j(t,n,o),S(e,t,o),r=!0},p(t,o){const c={};!a&&o&4&&(a=!0,c.value=t[2],we(()=>a=!1)),e.$set(c)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){L(e.$$.fragment,t),r=!1},d(t){t&&p(n),R(e,t)}}}function Dt(s){let n,e,a,r;function l(t){s[18](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[3]!==void 0&&(i.value=s[3]),e=new Oe({props:i}),ve.push(()=>Ee(e,"value",l)),{c(){n=K(`Fire 🔥\r
              `),T(e.$$.fragment)},l(t){n=G(t,`Fire 🔥\r
              `),V(e.$$.fragment,t)},m(t,o){j(t,n,o),S(e,t,o),r=!0},p(t,o){const c={};!a&&o&8&&(a=!0,c.value=t[3],we(()=>a=!1)),e.$set(c)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){L(e.$$.fragment,t),r=!1},d(t){t&&p(n),R(e,t)}}}function yt(s){let n,e,a,r;function l(t){s[19](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[4]!==void 0&&(i.value=s[4]),e=new Oe({props:i}),ve.push(()=>Ee(e,"value",l)),{c(){n=K(`Water 💦\r
              `),T(e.$$.fragment)},l(t){n=G(t,`Water 💦\r
              `),V(e.$$.fragment,t)},m(t,o){j(t,n,o),S(e,t,o),r=!0},p(t,o){const c={};!a&&o&16&&(a=!0,c.value=t[4],we(()=>a=!1)),e.$set(c)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){L(e.$$.fragment,t),r=!1},d(t){t&&p(n),R(e,t)}}}function Ct(s){let n,e,a,r;function l(t){s[20](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[5]!==void 0&&(i.value=s[5]),e=new Oe({props:i}),ve.push(()=>Ee(e,"value",l)),{c(){n=K(`Death 💀\r
              `),T(e.$$.fragment)},l(t){n=G(t,`Death 💀\r
              `),V(e.$$.fragment,t)},m(t,o){j(t,n,o),S(e,t,o),r=!0},p(t,o){const c={};!a&&o&32&&(a=!0,c.value=t[5],we(()=>a=!1)),e.$set(c)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){L(e.$$.fragment,t),r=!1},d(t){t&&p(n),R(e,t)}}}function Tt(s){let n,e,a;return e=new pt({props:{class:"bg-dark-800 border-dark-600 text-white"}}),e.$on("change",s[21]),{c(){n=K(`Background (808×1226)\r
              `),T(e.$$.fragment)},l(r){n=G(r,`Background (808×1226)\r
              `),V(e.$$.fragment,r)},m(r,l){j(r,n,l),S(e,r,l),a=!0},p:Ge,i(r){a||(x(e.$$.fragment,r),a=!0)},o(r){L(e.$$.fragment,r),a=!1},d(r){r&&p(n),R(e,r)}}}function Vt(s){let n;return{c(){n=K("Download Card")},l(e){n=G(e,"Download Card")},m(e,a){j(e,n,a)},d(e){e&&p(n)}}}function St(s){let n;return{c(){n=K("Convert from CSV")},l(e){n=G(e,"Convert from CSV")},m(e,a){j(e,n,a)},d(e){e&&p(n)}}}function xt(s){let n;return{c(){n=K("Export into JSON")},l(e){n=G(e,"Export into JSON")},m(e,a){j(e,n,a)},d(e){e&&p(n)}}}function Lt(s){let n;return{c(){n=K("Load from JSON")},l(e){n=G(e,"Load from JSON")},m(e,a){j(e,n,a)},d(e){e&&p(n)}}}function Rt(s){let n;return{c(){n=K("life / fire / water / death / rd4 / rd6 / bkd6 / wd6 / bld6 / gd6")},l(e){n=G(e,"life / fire / water / death / rd4 / rd6 / bkd6 / wd6 / bld6 / gd6")},m(e,a){j(e,n,a)},d(e){e&&p(n)}}}function At(s){let n,e,a,r,l,i,t,o;return r=new mt({props:{class:"px-1 py-0 text-white bg-dark-700 border-dark-600",$$slots:{default:[Rt]},$$scope:{ctx:s}}}),{c(){n=K(`Formatting rules\r
        `),e=b("div"),a=b("p"),T(r.$$.fragment),l=K(` - insert the corresponding symbol\r
            `),i=b("br"),t=K(`\r
            Line breaks should be set manually.`),this.h()},l(c){n=G(c,`Formatting rules\r
        `),e=w(c,"DIV",{class:!0});var E=D(e);a=w(E,"P",{class:!0});var F=D(a);V(r.$$.fragment,F),l=G(F,` - insert the corresponding symbol\r
            `),i=w(F,"BR",{}),t=G(F,`\r
            Line breaks should be set manually.`),F.forEach(p),E.forEach(p),this.h()},h(){m(a,"class","text-white"),m(e,"class","max-w-md lg:max-w-4xl border border-dark-600 rounded-2xl p-3")},m(c,E){j(c,n,E),j(c,e,E),d(e,a),S(r,a,null),d(a,l),d(a,i),d(a,t),o=!0},p(c,E){const F={};E&134217728&&(F.$$scope={dirty:E,ctx:c}),r.$set(F)},i(c){o||(x(r.$$.fragment,c),o=!0)},o(c){L(r.$$.fragment,c),o=!1},d(c){c&&(p(n),p(e)),R(r)}}}function Pt(s){let n,e,a=`<p class="text-white">The first column contains card names.
            <br/>
            The second column contains card descriptions. Use Ctrl+Enter to insert a linebreak in Google Sheets.
            <br/>
            The 3rd, 4th, 5th and 6th columns contain numbers for life, fire, water and death correspondingly.</p>`;return{c(){n=K(`CSV formatting\r
        `),e=b("div"),e.innerHTML=a,this.h()},l(r){n=G(r,`CSV formatting\r
        `),e=w(r,"DIV",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1n01m14"&&(e.innerHTML=a),this.h()},h(){m(e,"class","max-w-md lg:max-w-4xl border border-dark-600 rounded-2xl p-3")},m(r,l){j(r,n,l),j(r,e,l)},p:Ge,d(r){r&&(p(n),p(e))}}}function Ot(s){let n,e,a,r,l,i,t,o,c,E,F,te,B,se,ne,Q,le,A,M,ge,oe,Z,_e,ie,h,_,y,I,$,f,k,C,J,v,U,Y,P,q,ue,fe,z,be,ae,W,Je,$e,ze,de,He,pe,Ue,ke,We,Ie,Ne,Ke,Qe;return t=new ce({props:{style:"color: white",$$slots:{default:[Et]},$$scope:{ctx:s}}}),E=new ce({props:{style:"color: white",$$slots:{default:[kt]},$$scope:{ctx:s}}}),B=new ce({props:{style:"color: white",$$slots:{default:[It]},$$scope:{ctx:s}}}),Q=new ce({props:{style:"color: white",$$slots:{default:[Dt]},$$scope:{ctx:s}}}),M=new ce({props:{style:"color: white",$$slots:{default:[yt]},$$scope:{ctx:s}}}),Z=new ce({props:{style:"color: white",$$slots:{default:[Ct]},$$scope:{ctx:s}}}),h=new ce({props:{style:"color: white",$$slots:{default:[Tt]},$$scope:{ctx:s}}}),J=new Be({props:{class:"w-40",$$slots:{default:[Vt]},$$scope:{ctx:s}}}),J.$on("click",s[10]),Y=new Be({props:{class:"w-40",$$slots:{default:[St]},$$scope:{ctx:s}}}),Y.$on("click",jt),z=new Be({props:{class:"w-40",$$slots:{default:[xt]},$$scope:{ctx:s}}}),z.$on("click",s[11]),W=new Be({props:{class:"w-40",$$slots:{default:[Lt]},$$scope:{ctx:s}}}),W.$on("click",Nt),de=new ce({props:{class:"col-span-2 pb-4",style:"color: white",$$slots:{default:[At]},$$scope:{ctx:s}}}),pe=new ce({props:{class:"col-span-2 pb-4",style:"color: white",$$slots:{default:[Pt]},$$scope:{ctx:s}}}),{c(){n=b("div"),e=b("div"),a=b("div"),r=b("div"),l=b("div"),i=b("div"),T(t.$$.fragment),o=O(),c=b("div"),T(E.$$.fragment),F=O(),te=b("div"),T(B.$$.fragment),se=O(),ne=b("div"),T(Q.$$.fragment),le=O(),A=b("div"),T(M.$$.fragment),ge=O(),oe=b("div"),T(Z.$$.fragment),_e=O(),ie=b("div"),T(h.$$.fragment),_=O(),y=b("div"),I=b("div"),$=b("canvas"),f=O(),k=b("div"),C=b("div"),T(J.$$.fragment),v=O(),U=b("div"),T(Y.$$.fragment),P=O(),q=b("input"),ue=O(),fe=b("div"),T(z.$$.fragment),be=O(),ae=b("div"),T(W.$$.fragment),Je=O(),$e=b("input"),ze=O(),T(de.$$.fragment),He=O(),T(pe.$$.fragment),Ue=O(),ke=b("p"),We=O(),Ie=b("p"),this.h()},l(u){n=w(u,"DIV",{class:!0});var g=D(n);e=w(g,"DIV",{class:!0});var De=D(e);a=w(De,"DIV",{class:!0});var re=D(a);r=w(re,"DIV",{class:!0});var ye=D(r);l=w(ye,"DIV",{class:!0});var H=D(l);i=w(H,"DIV",{class:!0});var Ce=D(i);V(t.$$.fragment,Ce),Ce.forEach(p),o=N(H),c=w(H,"DIV",{class:!0});var Te=D(c);V(E.$$.fragment,Te),Te.forEach(p),F=N(H),te=w(H,"DIV",{class:!0});var Ve=D(te);V(B.$$.fragment,Ve),Ve.forEach(p),se=N(H),ne=w(H,"DIV",{class:!0});var Se=D(ne);V(Q.$$.fragment,Se),Se.forEach(p),le=N(H),A=w(H,"DIV",{class:!0});var xe=D(A);V(M.$$.fragment,xe),xe.forEach(p),ge=N(H),oe=w(H,"DIV",{class:!0});var Le=D(oe);V(Z.$$.fragment,Le),Le.forEach(p),_e=N(H),ie=w(H,"DIV",{class:!0});var Re=D(ie);V(h.$$.fragment,Re),Re.forEach(p),H.forEach(p),ye.forEach(p),_=N(re),y=w(re,"DIV",{class:!0});var he=D(y);I=w(he,"DIV",{class:!0});var Ae=D(I);$=w(Ae,"CANVAS",{width:!0,height:!0,class:!0}),D($).forEach(p),Ae.forEach(p),f=N(he),k=w(he,"DIV",{class:!0});var me=D(k);C=w(me,"DIV",{class:!0});var Xe=D(C);V(J.$$.fragment,Xe),Xe.forEach(p),v=N(me),U=w(me,"DIV",{class:!0});var je=D(U);V(Y.$$.fragment,je),P=N(je),q=w(je,"INPUT",{id:!0,class:!0,type:!0,accept:!0}),je.forEach(p),ue=N(me),fe=w(me,"DIV",{class:!0});var Ye=D(fe);V(z.$$.fragment,Ye),Ye.forEach(p),be=N(me),ae=w(me,"DIV",{class:!0});var Fe=D(ae);V(W.$$.fragment,Fe),Je=N(Fe),$e=w(Fe,"INPUT",{id:!0,class:!0,type:!0}),Fe.forEach(p),me.forEach(p),he.forEach(p),ze=N(re),V(de.$$.fragment,re),He=N(re),V(pe.$$.fragment,re),re.forEach(p),De.forEach(p),Ue=N(g),ke=w(g,"P",{class:!0}),D(ke).forEach(p),We=N(g),Ie=w(g,"P",{class:!0}),D(Ie).forEach(p),g.forEach(p),this.h()},h(){m(i,"class","col-span-4"),m(c,"class","col-span-4"),m(te,"class","col-span-1 flex"),m(ne,"class","col-span-1 flex"),m(A,"class","col-span-1 flex"),m(oe,"class","col-span-1 flex"),m(ie,"class","col-span-4"),m(l,"class","grid grid-cols-4 gap-3 lg:gap-6 max-w-md mt-4"),m(r,"class","col-span-1"),m($,"width","808"),m($,"height","1226"),m($,"class","w-full rounded-3xl"),m(I,"class","w-full border border-dark-600 rounded-3xl mt-2 md:mt-4"),m(C,"class","col-span-1 flex justify-center"),m(q,"id","inputCsv"),m(q,"class","absolute w-0"),m(q,"type","file"),m(q,"accept",".csv"),m(U,"class","col-span-1 flex justify-center"),m(fe,"class","col-span-1 flex justify-center"),m($e,"id","inputJson"),m($e,"class","absolute w-0"),m($e,"type","file"),m(ae,"class","col-span-1 flex justify-center"),m(k,"class","grid grid-cols-2 gap-4 mt-4 mb-4"),m(y,"class","col-span-1 max-w-md pt-8 lg:pt-0 flex flex-col items-center justify-center"),m(a,"class","lg:grid lg:grid-cols-2 lg:gap-6 px-3 lg:px-0"),m(e,"class","flex items-center flex-col"),m(ke,"class","absolute font-atlantis svelte-10veyca"),m(Ie,"class","absolute font-itc svelte-10veyca"),m(n,"class","pt-18 md:pt-22")},m(u,g){j(u,n,g),d(n,e),d(e,a),d(a,r),d(r,l),d(l,i),S(t,i,null),d(l,o),d(l,c),S(E,c,null),d(l,F),d(l,te),S(B,te,null),d(l,se),d(l,ne),S(Q,ne,null),d(l,le),d(l,A),S(M,A,null),d(l,ge),d(l,oe),S(Z,oe,null),d(l,_e),d(l,ie),S(h,ie,null),d(a,_),d(a,y),d(y,I),d(I,$),s[22]($),d(y,f),d(y,k),d(k,C),S(J,C,null),d(k,v),d(k,U),S(Y,U,null),d(U,P),d(U,q),d(k,ue),d(k,fe),S(z,fe,null),d(k,be),d(k,ae),S(W,ae,null),d(ae,Je),d(ae,$e),d(a,ze),S(de,a,null),d(a,He),S(pe,a,null),d(n,Ue),d(n,ke),d(n,We),d(n,Ie),Ne=!0,Ke||(Qe=[qe(q,"change",s[23]),qe($e,"change",s[24])],Ke=!0)},p(u,[g]){const De={};g&134217729&&(De.$$scope={dirty:g,ctx:u}),t.$set(De);const re={};g&134217730&&(re.$$scope={dirty:g,ctx:u}),E.$set(re);const ye={};g&134217732&&(ye.$$scope={dirty:g,ctx:u}),B.$set(ye);const H={};g&134217736&&(H.$$scope={dirty:g,ctx:u}),Q.$set(H);const Ce={};g&134217744&&(Ce.$$scope={dirty:g,ctx:u}),M.$set(Ce);const Te={};g&134217760&&(Te.$$scope={dirty:g,ctx:u}),Z.$set(Te);const Ve={};g&134217728&&(Ve.$$scope={dirty:g,ctx:u}),h.$set(Ve);const Se={};g&134217728&&(Se.$$scope={dirty:g,ctx:u}),J.$set(Se);const xe={};g&134217728&&(xe.$$scope={dirty:g,ctx:u}),Y.$set(xe);const Le={};g&134217728&&(Le.$$scope={dirty:g,ctx:u}),z.$set(Le);const Re={};g&134217728&&(Re.$$scope={dirty:g,ctx:u}),W.$set(Re);const he={};g&134217728&&(he.$$scope={dirty:g,ctx:u}),de.$set(he);const Ae={};g&134217728&&(Ae.$$scope={dirty:g,ctx:u}),pe.$set(Ae)},i(u){Ne||(x(t.$$.fragment,u),x(E.$$.fragment,u),x(B.$$.fragment,u),x(Q.$$.fragment,u),x(M.$$.fragment,u),x(Z.$$.fragment,u),x(h.$$.fragment,u),x(J.$$.fragment,u),x(Y.$$.fragment,u),x(z.$$.fragment,u),x(W.$$.fragment,u),x(de.$$.fragment,u),x(pe.$$.fragment,u),Ne=!0)},o(u){L(t.$$.fragment,u),L(E.$$.fragment,u),L(B.$$.fragment,u),L(Q.$$.fragment,u),L(M.$$.fragment,u),L(Z.$$.fragment,u),L(h.$$.fragment,u),L(J.$$.fragment,u),L(Y.$$.fragment,u),L(z.$$.fragment,u),L(W.$$.fragment,u),L(de.$$.fragment,u),L(pe.$$.fragment,u),Ne=!1},d(u){u&&p(n),R(t),R(E),R(B),R(Q),R(M),R(Z),R(h),s[22](null),R(J),R(Y),R(z),R(W),R(de),R(pe),Ke=!1,st(Qe)}}}function tt(s,n){let e=document.createElement("a"),a;e.download=n,e.href=s.toDataURL("image/png;base64"),document.createEvent&&(a=document.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(a))}function Nt(){document.getElementById("inputJson").click()}function jt(){document.getElementById("inputCsv").click()}function Ft(s){const n=[];let e=[],a="",r=!1,l=null;for(let i=0;i<s.length;i++){const t=s[i];if(!l&&(t===`
`||t==="\r")&&(l=t==="\r"&&s[i+1]===`
`?`\r
`:t),t==='"'){r&&s[i+1]==='"'?(a+='"',i++):r?r=!1:r=!0;continue}if(!r){if(l&&s.substring(i,i+l.length)===l){e.push(a),a="",n.push(e),e=[],i+=l.length-1;continue}if(t===","){e.push(a),a="";continue}}a+=t}return(a!==""||s[s.length-1]===",")&&e.push(a),e.length>0&&n.push(e),n}function Bt(s,n,e){let a="",r="",l=0,i=0,t=0,o=0,c=!1,E;const F=f=>{const k=f.target.files[0],C=new FileReader;C.readAsDataURL(k),C.onload=J=>{const v=new Image;v.src=J.target.result,v.onload=()=>{e(14,E=v)}}},te=f=>{const k=f.target.files[0],C=new FileReader;C.readAsText(k),C.onload=J=>{const v=new Ze().fromJSON(JSON.parse(J.target.result),!0);e(0,a=v.get("name")),e(1,r=v.get("description")),e(2,l=v.get("life")),e(3,i=v.get("fire")),e(4,t=v.get("water")),e(5,o=v.get("death"))}};let B,se;lt(async()=>{se=B.getContext("2d"),Promise.all([document.fonts.ready,$t()]).then(()=>{e(13,c=!0)})});const ne=()=>{et(B,se,E,a,r,l,i,t,o)},Q={rows:4};function le(){tt(B,"card.png")}function A(){const f=new Ze([["name",a],["description",r],["life",l],["fire",i],["water",t],["death",o]]),k="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(f.toJSON())),C=document.createElement("a");C.setAttribute("href",k),C.setAttribute("download","card.json"),document.body.appendChild(C),C.click(),C.remove()}function M(f){const k=f.target.files[0];if(!k)return;const C=new FileReader;C.onload=function(J){const v=J.target.result,U=Ft(v),Y=[];for(let P=0;P<U.length;P++){if(U[P].length===0)continue;if(U[P].length!==6){console.error(`Row ${P+1} has ${U[P].length} columns, expected 6`);continue}const q=U[P].slice(2).map(Number);if(q.some(isNaN)){console.error(`Invalid number in row ${P+1}`);continue}Y.push([U[P][0],U[P][1],...q])}for(let P=0;P<Y.length;P+=9){const q=Y.slice(P,P+9),ue=document.createElement("canvas");ue.width=2824,ue.height=3995;const fe=ue.getContext("2d"),z=document.createElement("canvas");z.width=808,z.height=1226;const be=z.getContext("2d");for(const[ae,W]of q.entries())et(z,be,void 0,W[0],W[1],W[2],W[3],W[4],W[5]),fe.drawImage(z,0,0,808,1226,100+(100+808)*(ae%3),79+(79+1226)*Math.floor(ae/3),808,1226),be.clearRect(0,0,z.width,z.height);tt(ue,"cards4print.png")}},C.readAsText(k)}function ge(f){a=f,e(0,a)}function oe(f){r=f,e(1,r)}function Z(f){l=f,e(2,l)}function _e(f){i=f,e(3,i)}function ie(f){t=f,e(4,t)}function h(f){o=f,e(5,o)}const _=f=>F(f);function y(f){ve[f?"unshift":"push"](()=>{B=f,e(6,B)})}const I=f=>M(f),$=f=>te(f);return s.$$.update=()=>{s.$$.dirty&24639&&c&&ne()},[a,r,l,i,t,o,B,F,te,Q,le,A,M,c,E,ge,oe,Z,_e,ie,h,_,y,I,$]}class Mt extends at{constructor(n){super(),rt(this,n,Bt,Ot,nt,{})}}function Jt(s){let n,e,a,r;return a=new Mt({}),{c(){n=b("meta"),e=O(),T(a.$$.fragment),this.h()},l(l){const i=ct("svelte-u9g8x3",document.head);n=w(i,"META",{name:!0,content:!0}),i.forEach(p),e=N(l),V(a.$$.fragment,l),this.h()},h(){document.title="Card Builder",m(n,"name","description"),m(n,"content","Card builder.")},m(l,i){d(document.head,n),j(l,e,i),S(a,l,i),r=!0},p:Ge,i(l){r||(x(a.$$.fragment,l),r=!0)},o(l){L(a.$$.fragment,l),r=!1},d(l){l&&p(e),p(n),R(a,l)}}}class qt extends at{constructor(n){super(),rt(this,n,null,Jt,nt,{})}}export{qt as component,Yt as universal};
