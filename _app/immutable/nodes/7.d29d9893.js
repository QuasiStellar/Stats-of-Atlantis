import{s as nt,f as _,a as j,g as h,h as E,d,c as F,j as p,i as M,A as f,B as qe,O as st,o as lt,p as _e,l as K,m as Q,T as we,v as ot,M as Qe,Q as it,V as ct}from"../chunks/scheduler.08ed19d9.js";import{S as at,i as rt,b as k,d as I,m as C,a as S,t as x,e as D,p as Ee}from"../chunks/index.40008747.js";import{g as ut,a as ft}from"../chunks/tw-merge.dd2125e8.js";import{B as Fe}from"../chunks/Button.819c6c8e.js";import{L as le}from"../chunks/Label.08ccf95f.js";import{I as Re,a as dt,F as pt,K as mt,T as Ze}from"../chunks/index.739607cf.js";import{_ as $e}from"../chunks/preload-helper.a4192956.js";import{_ as gt}from"../chunks/dynamic-import-helper.be004503.js";const $t=!0,Yt=Object.freeze(Object.defineProperty({__proto__:null,prerender:$t},Symbol.toStringTag,{value:"Module"}));function et(s,n,e,a,r,o=0,i=0,t=0,l=0){ht(s,n),Ke(n,"frame",0,0),bt(n,r,89),vt(n,a,404,95,420),o>0&&Me(n,o.toString(),82,123,100,10,.92),i>0&&Me(n,i.toString(),725,123,100,10,.92),t>0&&Me(n,t.toString(),77,1183,100,10,.92),l>0&&Me(n,l.toString(),733,1183,100,10,.92),e instanceof HTMLImageElement&&n.drawImage(e,0,0,808,1226)}const be=new Map;function _t(){return Promise.all(wt.map(async s=>{const n=(await gt(Object.assign({"../../lib/images/wheel_of_victory/death.png":()=>$e(()=>import("../chunks/death.e002b534.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/description_frame_inside.png":()=>$e(()=>import("../chunks/description_frame_inside.1fb2ed13.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/description_frame_top.png":()=>$e(()=>import("../chunks/description_frame_top.617da040.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/fire.png":()=>$e(()=>import("../chunks/fire.5377f7e2.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/frame.png":()=>$e(()=>import("../chunks/frame.6f306bb4.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/life.png":()=>$e(()=>import("../chunks/life.454ea9bf.js"),[],import.meta.url),"../../lib/images/wheel_of_victory/water.png":()=>$e(()=>import("../chunks/water.339329a0.js"),[],import.meta.url)}),`../../lib/images/wheel_of_victory/${s}.png`)).default,e=new Image;e.src=n,be.set(s,e),await new Promise(a=>e.onload=a)}))}function ht(s,n){n.clearRect(0,0,s.width,s.height)}function Ke(s,n,e,a){s.drawImage(be.get(n),e,a)}function vt(s,n,e,a,r){s.textAlign="center",s.font="66px Modesto Poster",s.fillText(n,e,a,r)}function bt(s,n,e){const a=n.split(/\r\n|\r|\n/),r=be.get("life"),o=be.get("fire"),i=be.get("water"),t=be.get("death"),l="45px",c="27px",v="ITC Charter";if(a.length>4){for(let $=0;$<a.length-4;$++)for(let b=1;b<=7;b++)Ke(s,"description_frame_inside",62,924-$*67-12*b);Ke(s,"description_frame_top",62,809-67*(a.length-4))}const P=document.createElement("canvas");P.width=808,P.height=1226;const R=P.getContext("2d");R.font=l+" "+v,R.textBaseline="top";let y=[];switch(a.length){case 0:break;case 1:y=[1015];break;case 2:y=[975,1055];break;case 3:y=[935,1015,1095];break;default:y=Array.from({length:a.length},($,b)=>1115-67*(a.length-1-b));break}for(const[$,b]of a.entries())oe(b,e,y[$]);s.drawImage(P,0,0,808,1226,0,0,808,1226);function oe($,b,T){const w=ae($),O=Z(w);for(const V of O)re(V,b,T)}function ae($){const b=[],T=/(\b(LIFE|FIRE|WATER|DEATH)\b|\s+|\S+)/gi;let w;for(;(w=T.exec($))!==null;){const[O]=w;O.match(/Life/gi)?b.push({type:"image",value:"life"}):O.match(/Fire/gi)?b.push({type:"image",value:"fire"}):O.match(/Water/gi)?b.push({type:"image",value:"water"}):O.match(/Death/gi)?b.push({type:"image",value:"death"}):O.trim()===""?b.push({type:"text",value:O}):b.push({type:"text",value:O})}return b}function Z($){const b=[],T=[];for(const w of $)T.push(w);return b.push({tokens:T}),b}function pe($){if($.type==="image")return r.width;R.save();const T=$.value==" "?c:l;R.font=T+" "+v;const w=R.measureText($.value.replace(/~/g,"")).width;return R.restore(),w}function re($,b,T){const w=document.createElement("canvas");w.width=808,w.height=1226;const O=w.getContext("2d");let V=0;for(const z of $.tokens){if(z.type==="image"){let G=r;switch(z.value){case"life":G=r;break;case"fire":G=o;break;case"water":G=i;break;case"death":G=t;break}O.drawImage(G,V,T-35),V+=G.width;continue}const ee=z.value==" "?c:l;O.font=ee+" "+v,O.fillStyle="black",O.fillText(z.value,V,T),V+=pe(z)}T>1090?V<500?R.drawImage(w,0,0,808,1226,404-V/2,0,808,1226):R.drawImage(w,0,0,808/500*V,1226,404-250,0,808,1226):V<600?R.drawImage(w,0,0,808,1226,404-V/2,0,808,1226):R.drawImage(w,0,0,808/600*V,1226,404-300,0,808,1226)}}function Me(s,n,e,a,r,o,i){const t=document.createElement("canvas");t.width=400,t.height=400;const l=t.getContext("2d");return l.textAlign="center",l.font=`${r}px Modesto Poster`,l.lineWidth=o,l.strokeText(n,200,200),l.fillStyle="white",l.fillText(n,200,200),l.fillStyle="black",s.drawImage(t,0,0,400,400,e-200*i,a-200,400*i,400),l.measureText(n).width*i}const wt=["frame","life","fire","water","death","description_frame_top","description_frame_inside"];function Et(s){let n,e,a,r;function o(t){s[15](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[0]!==void 0&&(i.value=s[0]),e=new Re({props:i}),_e.push(()=>Ee(e,"value",o)),{c(){n=K(`Name\r
              `),k(e.$$.fragment)},l(t){n=Q(t,`Name\r
              `),I(e.$$.fragment,t)},m(t,l){M(t,n,l),C(e,t,l),r=!0},p(t,l){const c={};!a&&l&1&&(a=!0,c.value=t[0],we(()=>a=!1)),e.$set(c)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){x(e.$$.fragment,t),r=!1},d(t){t&&d(n),D(e,t)}}}function kt(s){let n,e,a,r;const o=[s[9],{class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"}];function i(l){s[16](l)}let t={};for(let l=0;l<o.length;l+=1)t=ot(t,o[l]);return s[1]!==void 0&&(t.value=s[1]),e=new dt({props:t}),_e.push(()=>Ee(e,"value",i)),{c(){n=K(`Description\r
              `),k(e.$$.fragment)},l(l){n=Q(l,`Description\r
              `),I(e.$$.fragment,l)},m(l,c){M(l,n,c),C(e,l,c),r=!0},p(l,c){const v=c&512?ut(o,[ft(l[9]),o[1]]):{};!a&&c&2&&(a=!0,v.value=l[1],we(()=>a=!1)),e.$set(v)},i(l){r||(S(e.$$.fragment,l),r=!0)},o(l){x(e.$$.fragment,l),r=!1},d(l){l&&d(n),D(e,l)}}}function It(s){let n,e,a,r;function o(t){s[17](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[2]!==void 0&&(i.value=s[2]),e=new Re({props:i}),_e.push(()=>Ee(e,"value",o)),{c(){n=K(`Life ðŸƒ\r
              `),k(e.$$.fragment)},l(t){n=Q(t,`Life ðŸƒ\r
              `),I(e.$$.fragment,t)},m(t,l){M(t,n,l),C(e,t,l),r=!0},p(t,l){const c={};!a&&l&4&&(a=!0,c.value=t[2],we(()=>a=!1)),e.$set(c)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){x(e.$$.fragment,t),r=!1},d(t){t&&d(n),D(e,t)}}}function Ct(s){let n,e,a,r;function o(t){s[18](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[3]!==void 0&&(i.value=s[3]),e=new Re({props:i}),_e.push(()=>Ee(e,"value",o)),{c(){n=K(`Fire ðŸ”¥\r
              `),k(e.$$.fragment)},l(t){n=Q(t,`Fire ðŸ”¥\r
              `),I(e.$$.fragment,t)},m(t,l){M(t,n,l),C(e,t,l),r=!0},p(t,l){const c={};!a&&l&8&&(a=!0,c.value=t[3],we(()=>a=!1)),e.$set(c)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){x(e.$$.fragment,t),r=!1},d(t){t&&d(n),D(e,t)}}}function St(s){let n,e,a,r;function o(t){s[19](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[4]!==void 0&&(i.value=s[4]),e=new Re({props:i}),_e.push(()=>Ee(e,"value",o)),{c(){n=K(`Water ðŸ’¦\r
              `),k(e.$$.fragment)},l(t){n=Q(t,`Water ðŸ’¦\r
              `),I(e.$$.fragment,t)},m(t,l){M(t,n,l),C(e,t,l),r=!0},p(t,l){const c={};!a&&l&16&&(a=!0,c.value=t[4],we(()=>a=!1)),e.$set(c)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){x(e.$$.fragment,t),r=!1},d(t){t&&d(n),D(e,t)}}}function xt(s){let n,e,a,r;function o(t){s[20](t)}let i={type:"text",class:"bg-dark-800 border-dark-600 text-white disabled:bg-dark-900"};return s[5]!==void 0&&(i.value=s[5]),e=new Re({props:i}),_e.push(()=>Ee(e,"value",o)),{c(){n=K(`Death ðŸ’€\r
              `),k(e.$$.fragment)},l(t){n=Q(t,`Death ðŸ’€\r
              `),I(e.$$.fragment,t)},m(t,l){M(t,n,l),C(e,t,l),r=!0},p(t,l){const c={};!a&&l&32&&(a=!0,c.value=t[5],we(()=>a=!1)),e.$set(c)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){x(e.$$.fragment,t),r=!1},d(t){t&&d(n),D(e,t)}}}function Dt(s){let n,e,a;return e=new pt({props:{class:"bg-dark-800 border-dark-600 text-white"}}),e.$on("change",s[21]),{c(){n=K(`Background (808Ã—1226)\r
              `),k(e.$$.fragment)},l(r){n=Q(r,`Background (808Ã—1226)\r
              `),I(e.$$.fragment,r)},m(r,o){M(r,n,o),C(e,r,o),a=!0},p:Qe,i(r){a||(S(e.$$.fragment,r),a=!0)},o(r){x(e.$$.fragment,r),a=!1},d(r){r&&d(n),D(e,r)}}}function yt(s){let n;return{c(){n=K("Download Card")},l(e){n=Q(e,"Download Card")},m(e,a){M(e,n,a)},d(e){e&&d(n)}}}function Tt(s){let n;return{c(){n=K("Convert from CSV")},l(e){n=Q(e,"Convert from CSV")},m(e,a){M(e,n,a)},d(e){e&&d(n)}}}function Vt(s){let n;return{c(){n=K("Export into JSON")},l(e){n=Q(e,"Export into JSON")},m(e,a){M(e,n,a)},d(e){e&&d(n)}}}function Lt(s){let n;return{c(){n=K("Load from JSON")},l(e){n=Q(e,"Load from JSON")},m(e,a){M(e,n,a)},d(e){e&&d(n)}}}function At(s){let n;return{c(){n=K("life / fire / water / death")},l(e){n=Q(e,"life / fire / water / death")},m(e,a){M(e,n,a)},d(e){e&&d(n)}}}function Pt(s){let n,e,a,r,o,i,t,l;return r=new mt({props:{class:"px-1 py-0 text-white bg-dark-700 border-dark-600",$$slots:{default:[At]},$$scope:{ctx:s}}}),{c(){n=K(`Formatting rules\r
        `),e=_("div"),a=_("p"),k(r.$$.fragment),o=K(` - insert the corresponding symbol\r
            `),i=_("br"),t=K(`\r
            Line breaks should be set manually.`),this.h()},l(c){n=Q(c,`Formatting rules\r
        `),e=h(c,"DIV",{class:!0});var v=E(e);a=h(v,"P",{class:!0});var P=E(a);I(r.$$.fragment,P),o=Q(P,` - insert the corresponding symbol\r
            `),i=h(P,"BR",{}),t=Q(P,`\r
            Line breaks should be set manually.`),P.forEach(d),v.forEach(d),this.h()},h(){p(a,"class","text-white"),p(e,"class","max-w-md lg:max-w-4xl border border-dark-600 rounded-2xl p-3")},m(c,v){M(c,n,v),M(c,e,v),f(e,a),C(r,a,null),f(a,o),f(a,i),f(a,t),l=!0},p(c,v){const P={};v&134217728&&(P.$$scope={dirty:v,ctx:c}),r.$set(P)},i(c){l||(S(r.$$.fragment,c),l=!0)},o(c){x(r.$$.fragment,c),l=!1},d(c){c&&(d(n),d(e)),D(r)}}}function Rt(s){let n,e,a=`<p class="text-white">The first column contains card names.
            <br/>
            The second column contains card descriptions. Use Ctrl+Enter to insert a linebreak in Google Sheets.
            <br/>
            The 3rd, 4th, 5th and 6th columns contain numbers for life, fire, water and death correspondingly.</p>`;return{c(){n=K(`CSV formatting\r
        `),e=_("div"),e.innerHTML=a,this.h()},l(r){n=Q(r,`CSV formatting\r
        `),e=h(r,"DIV",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1n01m14"&&(e.innerHTML=a),this.h()},h(){p(e,"class","max-w-md lg:max-w-4xl border border-dark-600 rounded-2xl p-3")},m(r,o){M(r,n,o),M(r,e,o)},p:Qe,d(r){r&&(d(n),d(e))}}}function Ot(s){let n,e,a,r,o,i,t,l,c,v,P,R,y,oe,ae,Z,pe,re,$,b,T,w,O,V,z,he,ee,G,se,g,L,A,X,U,H,Y,N,q,ie,ce,B,ve,te,W,Be,me,Je,ue,ze,fe,Ue,ke,He,Ie,Oe,We,Ge;return t=new le({props:{style:"color: white",$$slots:{default:[Et]},$$scope:{ctx:s}}}),v=new le({props:{style:"color: white",$$slots:{default:[kt]},$$scope:{ctx:s}}}),y=new le({props:{style:"color: white",$$slots:{default:[It]},$$scope:{ctx:s}}}),Z=new le({props:{style:"color: white",$$slots:{default:[Ct]},$$scope:{ctx:s}}}),$=new le({props:{style:"color: white",$$slots:{default:[St]},$$scope:{ctx:s}}}),w=new le({props:{style:"color: white",$$slots:{default:[xt]},$$scope:{ctx:s}}}),z=new le({props:{style:"color: white",$$slots:{default:[Dt]},$$scope:{ctx:s}}}),X=new Fe({props:{class:"w-40",$$slots:{default:[yt]},$$scope:{ctx:s}}}),X.$on("click",s[10]),Y=new Fe({props:{class:"w-40",$$slots:{default:[Tt]},$$scope:{ctx:s}}}),Y.$on("click",jt),B=new Fe({props:{class:"w-40",$$slots:{default:[Vt]},$$scope:{ctx:s}}}),B.$on("click",s[11]),W=new Fe({props:{class:"w-40",$$slots:{default:[Lt]},$$scope:{ctx:s}}}),W.$on("click",Nt),ue=new le({props:{class:"col-span-2 pb-4",style:"color: white",$$slots:{default:[Pt]},$$scope:{ctx:s}}}),fe=new le({props:{class:"col-span-2 pb-4",style:"color: white",$$slots:{default:[Rt]},$$scope:{ctx:s}}}),{c(){n=_("div"),e=_("div"),a=_("div"),r=_("div"),o=_("div"),i=_("div"),k(t.$$.fragment),l=j(),c=_("div"),k(v.$$.fragment),P=j(),R=_("div"),k(y.$$.fragment),oe=j(),ae=_("div"),k(Z.$$.fragment),pe=j(),re=_("div"),k($.$$.fragment),b=j(),T=_("div"),k(w.$$.fragment),O=j(),V=_("div"),k(z.$$.fragment),he=j(),ee=_("div"),G=_("div"),se=_("canvas"),g=j(),L=_("div"),A=_("div"),k(X.$$.fragment),U=j(),H=_("div"),k(Y.$$.fragment),N=j(),q=_("input"),ie=j(),ce=_("div"),k(B.$$.fragment),ve=j(),te=_("div"),k(W.$$.fragment),Be=j(),me=_("input"),Je=j(),k(ue.$$.fragment),ze=j(),k(fe.$$.fragment),Ue=j(),ke=_("p"),He=j(),Ie=_("p"),this.h()},l(u){n=h(u,"DIV",{class:!0});var m=E(n);e=h(m,"DIV",{class:!0});var Ce=E(e);a=h(Ce,"DIV",{class:!0});var ne=E(a);r=h(ne,"DIV",{class:!0});var Se=E(r);o=h(Se,"DIV",{class:!0});var J=E(o);i=h(J,"DIV",{class:!0});var xe=E(i);I(t.$$.fragment,xe),xe.forEach(d),l=F(J),c=h(J,"DIV",{class:!0});var De=E(c);I(v.$$.fragment,De),De.forEach(d),P=F(J),R=h(J,"DIV",{class:!0});var ye=E(R);I(y.$$.fragment,ye),ye.forEach(d),oe=F(J),ae=h(J,"DIV",{class:!0});var Te=E(ae);I(Z.$$.fragment,Te),Te.forEach(d),pe=F(J),re=h(J,"DIV",{class:!0});var Ve=E(re);I($.$$.fragment,Ve),Ve.forEach(d),b=F(J),T=h(J,"DIV",{class:!0});var Le=E(T);I(w.$$.fragment,Le),Le.forEach(d),O=F(J),V=h(J,"DIV",{class:!0});var Ae=E(V);I(z.$$.fragment,Ae),Ae.forEach(d),J.forEach(d),Se.forEach(d),he=F(ne),ee=h(ne,"DIV",{class:!0});var ge=E(ee);G=h(ge,"DIV",{class:!0});var Pe=E(G);se=h(Pe,"CANVAS",{width:!0,height:!0,class:!0}),E(se).forEach(d),Pe.forEach(d),g=F(ge),L=h(ge,"DIV",{class:!0});var de=E(L);A=h(de,"DIV",{class:!0});var Xe=E(A);I(X.$$.fragment,Xe),Xe.forEach(d),U=F(de),H=h(de,"DIV",{class:!0});var Ne=E(H);I(Y.$$.fragment,Ne),N=F(Ne),q=h(Ne,"INPUT",{id:!0,class:!0,type:!0,accept:!0}),Ne.forEach(d),ie=F(de),ce=h(de,"DIV",{class:!0});var Ye=E(ce);I(B.$$.fragment,Ye),Ye.forEach(d),ve=F(de),te=h(de,"DIV",{class:!0});var je=E(te);I(W.$$.fragment,je),Be=F(je),me=h(je,"INPUT",{id:!0,class:!0,type:!0}),je.forEach(d),de.forEach(d),ge.forEach(d),Je=F(ne),I(ue.$$.fragment,ne),ze=F(ne),I(fe.$$.fragment,ne),ne.forEach(d),Ce.forEach(d),Ue=F(m),ke=h(m,"P",{class:!0}),E(ke).forEach(d),He=F(m),Ie=h(m,"P",{class:!0}),E(Ie).forEach(d),m.forEach(d),this.h()},h(){p(i,"class","col-span-4"),p(c,"class","col-span-4"),p(R,"class","col-span-1 flex"),p(ae,"class","col-span-1 flex"),p(re,"class","col-span-1 flex"),p(T,"class","col-span-1 flex"),p(V,"class","col-span-4"),p(o,"class","grid grid-cols-4 gap-3 lg:gap-6 max-w-md mt-4"),p(r,"class","col-span-1"),p(se,"width","808"),p(se,"height","1226"),p(se,"class","w-full rounded-3xl"),p(G,"class","w-full border border-dark-600 rounded-3xl mt-2 md:mt-4"),p(A,"class","col-span-1 flex justify-center"),p(q,"id","inputCsv"),p(q,"class","absolute w-0"),p(q,"type","file"),p(q,"accept",".csv"),p(H,"class","col-span-1 flex justify-center"),p(ce,"class","col-span-1 flex justify-center"),p(me,"id","inputJson"),p(me,"class","absolute w-0"),p(me,"type","file"),p(te,"class","col-span-1 flex justify-center"),p(L,"class","grid grid-cols-2 gap-4 mt-4 mb-4"),p(ee,"class","col-span-1 max-w-md pt-8 lg:pt-0 flex flex-col items-center justify-center"),p(a,"class","lg:grid lg:grid-cols-2 lg:gap-6 px-3 lg:px-0"),p(e,"class","flex items-center flex-col"),p(ke,"class","absolute font-atlantis svelte-10veyca"),p(Ie,"class","absolute font-itc svelte-10veyca"),p(n,"class","pt-18 md:pt-22")},m(u,m){M(u,n,m),f(n,e),f(e,a),f(a,r),f(r,o),f(o,i),C(t,i,null),f(o,l),f(o,c),C(v,c,null),f(o,P),f(o,R),C(y,R,null),f(o,oe),f(o,ae),C(Z,ae,null),f(o,pe),f(o,re),C($,re,null),f(o,b),f(o,T),C(w,T,null),f(o,O),f(o,V),C(z,V,null),f(a,he),f(a,ee),f(ee,G),f(G,se),s[22](se),f(ee,g),f(ee,L),f(L,A),C(X,A,null),f(L,U),f(L,H),C(Y,H,null),f(H,N),f(H,q),f(L,ie),f(L,ce),C(B,ce,null),f(L,ve),f(L,te),C(W,te,null),f(te,Be),f(te,me),f(a,Je),C(ue,a,null),f(a,ze),C(fe,a,null),f(n,Ue),f(n,ke),f(n,He),f(n,Ie),Oe=!0,We||(Ge=[qe(q,"change",s[23]),qe(me,"change",s[24])],We=!0)},p(u,[m]){const Ce={};m&134217729&&(Ce.$$scope={dirty:m,ctx:u}),t.$set(Ce);const ne={};m&134217730&&(ne.$$scope={dirty:m,ctx:u}),v.$set(ne);const Se={};m&134217732&&(Se.$$scope={dirty:m,ctx:u}),y.$set(Se);const J={};m&134217736&&(J.$$scope={dirty:m,ctx:u}),Z.$set(J);const xe={};m&134217744&&(xe.$$scope={dirty:m,ctx:u}),$.$set(xe);const De={};m&134217760&&(De.$$scope={dirty:m,ctx:u}),w.$set(De);const ye={};m&134217728&&(ye.$$scope={dirty:m,ctx:u}),z.$set(ye);const Te={};m&134217728&&(Te.$$scope={dirty:m,ctx:u}),X.$set(Te);const Ve={};m&134217728&&(Ve.$$scope={dirty:m,ctx:u}),Y.$set(Ve);const Le={};m&134217728&&(Le.$$scope={dirty:m,ctx:u}),B.$set(Le);const Ae={};m&134217728&&(Ae.$$scope={dirty:m,ctx:u}),W.$set(Ae);const ge={};m&134217728&&(ge.$$scope={dirty:m,ctx:u}),ue.$set(ge);const Pe={};m&134217728&&(Pe.$$scope={dirty:m,ctx:u}),fe.$set(Pe)},i(u){Oe||(S(t.$$.fragment,u),S(v.$$.fragment,u),S(y.$$.fragment,u),S(Z.$$.fragment,u),S($.$$.fragment,u),S(w.$$.fragment,u),S(z.$$.fragment,u),S(X.$$.fragment,u),S(Y.$$.fragment,u),S(B.$$.fragment,u),S(W.$$.fragment,u),S(ue.$$.fragment,u),S(fe.$$.fragment,u),Oe=!0)},o(u){x(t.$$.fragment,u),x(v.$$.fragment,u),x(y.$$.fragment,u),x(Z.$$.fragment,u),x($.$$.fragment,u),x(w.$$.fragment,u),x(z.$$.fragment,u),x(X.$$.fragment,u),x(Y.$$.fragment,u),x(B.$$.fragment,u),x(W.$$.fragment,u),x(ue.$$.fragment,u),x(fe.$$.fragment,u),Oe=!1},d(u){u&&d(n),D(t),D(v),D(y),D(Z),D($),D(w),D(z),s[22](null),D(X),D(Y),D(B),D(W),D(ue),D(fe),We=!1,st(Ge)}}}function tt(s,n){let e=document.createElement("a"),a;e.download=n,e.href=s.toDataURL("image/png;base64"),document.createEvent&&(a=document.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(a))}function Nt(){document.getElementById("inputJson").click()}function jt(){document.getElementById("inputCsv").click()}function Ft(s){const n=[];let e=[],a="",r=!1,o=null;for(let i=0;i<s.length;i++){const t=s[i];if(!o&&(t===`
`||t==="\r")&&(o=t==="\r"&&s[i+1]===`
`?`\r
`:t),t==='"'){r&&s[i+1]==='"'?(a+='"',i++):r?r=!1:r=!0;continue}if(!r){if(o&&s.substring(i,i+o.length)===o){e.push(a),a="",n.push(e),e=[],i+=o.length-1;continue}if(t===","){e.push(a),a="";continue}}a+=t}return(a!==""||s[s.length-1]===",")&&e.push(a),e.length>0&&n.push(e),n}function Mt(s,n,e){let a="",r="",o=0,i=0,t=0,l=0,c=!1,v;const P=g=>{const L=g.target.files[0],A=new FileReader;A.readAsDataURL(L),A.onload=X=>{const U=new Image;U.src=X.target.result,U.onload=()=>{e(14,v=U)}}},R=g=>{const L=g.target.files[0],A=new FileReader;A.readAsText(L),A.onload=X=>{const U=new Ze().fromJSON(JSON.parse(X.target.result),!0);e(0,a=U.get("name")),e(1,r=U.get("description")),e(2,o=U.get("life")),e(3,i=U.get("fire")),e(4,t=U.get("water")),e(5,l=U.get("death"))}};let y,oe;lt(async()=>{oe=y.getContext("2d"),Promise.all([document.fonts.ready,_t()]).then(()=>{e(13,c=!0)})});const ae=()=>{et(y,oe,v,a,r,o,i,t,l)},Z={rows:4};function pe(){tt(y,"card.png")}function re(){const g=new Ze([["name",a],["description",r],["life",o],["fire",i],["water",t],["death",l]]),L="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(g.toJSON())),A=document.createElement("a");A.setAttribute("href",L),A.setAttribute("download","card.json"),document.body.appendChild(A),A.click(),A.remove()}function $(g){const L=g.target.files[0];if(!L)return;const A=new FileReader;A.onload=function(X){const U=X.target.result,H=Ft(U),Y=[];for(let N=0;N<H.length;N++){if(H[N].length===0)continue;if(H[N].length!==6){console.error(`Row ${N+1} has ${H[N].length} columns, expected 6`);continue}const q=H[N].slice(2).map(Number);if(q.some(isNaN)){console.error(`Invalid number in row ${N+1}`);continue}Y.push([H[N][0],H[N][1],...q])}for(let N=0;N<Y.length;N+=9){const q=Y.slice(N,N+9),ie=document.createElement("canvas");ie.width=2824,ie.height=3995;const ce=ie.getContext("2d"),B=document.createElement("canvas");B.width=808,B.height=1226;const ve=B.getContext("2d");for(const[te,W]of q.entries())et(B,ve,void 0,W[0],W[1],W[2],W[3],W[4],W[5]),ce.drawImage(B,0,0,808,1226,100+(100+808)*(te%3),79+(79+1226)*Math.floor(te/3),808,1226),ve.clearRect(0,0,B.width,B.height);tt(ie,"cards4print.png")}},A.readAsText(L)}function b(g){a=g,e(0,a)}function T(g){r=g,e(1,r)}function w(g){o=g,e(2,o)}function O(g){i=g,e(3,i)}function V(g){t=g,e(4,t)}function z(g){l=g,e(5,l)}const he=g=>P(g);function ee(g){_e[g?"unshift":"push"](()=>{y=g,e(6,y)})}const G=g=>$(g),se=g=>R(g);return s.$$.update=()=>{s.$$.dirty&24639&&c&&ae()},[a,r,o,i,t,l,y,P,R,Z,pe,re,$,c,v,b,T,w,O,V,z,he,ee,G,se]}class Bt extends at{constructor(n){super(),rt(this,n,Mt,Ot,nt,{})}}function Jt(s){let n,e,a,r;return a=new Bt({}),{c(){n=_("meta"),e=j(),k(a.$$.fragment),this.h()},l(o){const i=ct("svelte-u9g8x3",document.head);n=h(i,"META",{name:!0,content:!0}),i.forEach(d),e=F(o),I(a.$$.fragment,o),this.h()},h(){document.title="Card Builder",p(n,"name","description"),p(n,"content","Card builder.")},m(o,i){f(document.head,n),M(o,e,i),C(a,o,i),r=!0},p:Qe,i(o){r||(S(a.$$.fragment,o),r=!0)},o(o){x(a.$$.fragment,o),r=!1},d(o){o&&d(e),d(n),D(a,o)}}}class qt extends at{constructor(n){super(),rt(this,n,null,Jt,nt,{})}}export{qt as component,Yt as universal};
